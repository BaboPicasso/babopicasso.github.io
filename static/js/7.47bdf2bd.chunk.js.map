{"version":3,"sources":["components/Editor/ExerciseBlockRenderer.js","components/Editor/Renderer.js","components/Routes/Protected/Exercise.js","components/Atomics/Section.js","components/Atomics/Text.js","components/Atomics/Quote.js","components/Atomics/Image.js","components/Atomics/Formula.js","components/Atomics/Video.js","components/Atomics/Atomic.js"],"names":["exerciseBlockRenderer","contentBlock","getType","component","block","Text","getText","editable","Quote","props","Atomic","useExerciseBlockRenderer","Renderer","title","data","editorState","EditorState","createWithContent","convertFromRaw","blockRenderer","blockRenderMap","Immutable","Map","element","extendedBlockRenderMap","DefaultDraftBlockRenderMap","merge","Section","blockRendererFn","readOnly","Exercise","useParams","courseId","moduleGroupId","moduleId","exerciseId","exercise","useGetExercise","exercises","useGetExercises","console","log","content","isPropertyDefined","Base","styled","section","Title","div","children","showParagraph","Description","Wrapper","Picture","img","Caption","Image","url","caption","src","alt","Label","Formula","formula","ref","React","useRef","useEffect","katex","render","current","displayMode","show","Movie","video","animated","Container","Video","useState","setShow","height","setHeight","animation","useSpring","useLayoutEffect","getBoundingClientRect","includes","replace","onClick","state","Icon","style","marginRight","width","frameBorder","allow","allowFullScreen","controls","contentState","entity","getEntity","getEntityAt","type","getData"],"mappings":"oLAKMA,EAAwB,SAACC,GAG3B,OAFaA,EAAaC,WAGtB,IAAK,WACD,MAAO,CACHC,UAAW,YAAc,IAAZC,EAAW,EAAXA,MACT,OACI,kBAACC,EAAA,EAAD,KACKD,EAAME,YAInBC,UAAU,GAElB,IAAK,QACD,MAAO,CACHJ,UAAW,YAAc,IAAZC,EAAW,EAAXA,MACT,OACI,kBAACI,EAAA,EAAD,KACKJ,EAAME,YAInBC,UAAU,GAElB,IAAK,SACD,MAAO,CACHJ,UAAW,SAACM,GAAD,OACP,kBAACC,EAAA,EAAWD,IAEhBF,UAAU,KASXI,EAJkB,WAC7B,OAAOX,G,SCZIY,G,MAvBE,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,KAChBC,EAAcC,cAAYC,kBAAkBC,yBAAeJ,IAE3DK,EAAgBR,IAEhBS,EAAiBC,IAAUC,IAAI,CACjC,OAAU,CACNC,QAAS,SAIXC,EAAyBC,6BAA2BC,MAAMN,GAEhE,OACI,kBAACO,EAAA,EAAD,CAASd,MAAOA,GACZ,kBAAC,SAAD,CAAQE,YAAaA,EACba,gBAAiBT,EACjBC,eAAgBI,EAChBK,UAAU,O,QCNfC,UAZE,WAAO,IAAD,EACqCC,cAAjDC,EADY,EACZA,SAAUC,EADE,EACFA,cAAeC,EADb,EACaA,SAAUC,EADvB,EACuBA,WACpCC,EAAWC,YAAeL,EAAUC,EAAeC,EAAUC,GAC7DG,EAAYC,YAAgBP,EAAUC,EAAeC,EAAUC,GAIrE,OAFAK,QAAQC,IAAIH,GAGRF,EAASM,QAAU,kBAAC,EAAD,CAAU5B,KAAMsB,EAASM,QAAS7B,MAAO8B,YAAkBL,EAAW,CAACH,EAAY,SAAU,MAAU,O,8aCZlI,IAAMS,EAAOC,IAAOC,QAAV,KAUJC,EAAQF,IAAOG,IAAV,KAeIrB,IATC,SAAC,GAAiC,IAAhCd,EAA+B,EAA/BA,MAAOoC,EAAwB,EAAxBA,SAAaxC,EAAW,oCAC7C,OACI,kBAACmC,EAASnC,EACN,kBAACsC,EAAD,KAAQlC,GACPoC,K,4MCrBb,IAAM5C,E,MAAOwC,EAAOG,IAAV,KAKJ,SAAAvC,GAAK,OAAIA,EAAMyC,cAAN,yNAUP,MAGO7C,O,2ZCjBf,IAAMuC,EAAOC,IAAOG,IAAV,KASJG,EAAcN,IAAOG,IAAV,KAaFxC,IARD,SAAC,GAAgB,IAAfyC,EAAc,EAAdA,SACZ,OACI,kBAACL,EAAD,KACI,kBAACO,EAAD,gBAAmCF,K,4gBCjB/C,IAAMG,EAAUP,IAAOG,IAAV,KAIPK,EAAUR,IAAOS,IAAV,KAQPC,EAAUV,IAAOG,IAAV,KAmBEQ,EAXD,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,QACjB,OACI,kBAACN,EAAD,KACI,kBAACC,EAAD,CAASM,IAAKF,EAAKG,IAAKF,IACxB,kBAACH,EAAD,KACKG,K,iZCvBjB,IAAMd,EAAOC,IAAOG,IAAV,KAWJa,EAAQhB,IAAOG,IAAV,KAoBIc,EAfC,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACRC,EAAMC,IAAMC,OAAO,MAMzB,OAJAD,IAAME,WAAU,WACZC,IAAMC,OAAON,EAASC,EAAIM,QAAS,CAACC,aAAa,OAI7C,kBAAC3B,EAAD,KACI,kBAACiB,EAAD,YACA,yBAAKG,IAAKA,M,oxBC1B1B,IAAMjB,EAAQF,IAAOG,IAAV,KAQS,SAAAvC,GAAK,OAAIA,EAAM+D,KAAO,IAAM,OAW1CC,EAAQ5B,IAAO6B,MAAV,KAMLtB,EAAUuB,YAAS9B,IAAOG,IAAP,MAInB4B,EAAY/B,IAAOG,IAAV,KAsCA6B,EAlCD,SAAC,GAAkB,IAAjBpB,EAAgB,EAAhBA,IAAK5C,EAAW,EAAXA,MAAW,EACJoD,IAAMa,UAAS,GADX,mBACrBN,EADqB,KACfO,EADe,OAEAd,IAAMa,SAAS,GAFf,mBAErBE,EAFqB,KAEbC,EAFa,KAGtBjB,EAAMC,IAAMC,SAEZgB,EAAYC,YAAU,CACxBH,OAAQR,EAAOQ,EAAS,IAS5B,OANAf,IAAMmB,iBAAgB,WAClBH,EAAUjB,EAAIM,QAAQe,wBAAwBL,WAG/CvB,EAAI6B,SAAS,aAAY7B,EAAMA,EAAI8B,QAAQ,WAAY,WAGtD,oCACI,kBAACX,EAAD,KACI,kBAAC7B,EAAD,CAAOyB,KAAMA,EAAMgB,QAAS,kBAAMT,GAAQ,SAAAU,GAAK,OAAKA,OAAQ,kBAACC,EAAA,EAAD,CAAMC,MAAO,CAACC,YAAa,IAA3B,SAA4C/E,GACxG,kBAAC,EAAD,CAAS8E,MAAOT,GAERzB,EAAI6B,SAAS,WACT,4BAAQtB,IAAKA,EAAK6B,MAAO,OAAQb,OAAQ,IAAKrB,IAAKF,EAAKqC,YAAa,IAC7DC,MAAM,0EACNC,iBAAe,IACvB,kBAACvB,EAAD,CAAOT,IAAKA,EAAKL,IAAKF,EAAKwC,UAAQ,QCvChDvF,IAnBA,SAAC,GAA2B,IAA1BwF,EAAyB,EAAzBA,aAAc9F,EAAW,EAAXA,MACrB+F,EAASD,EAAaE,UAAUhG,EAAMiG,YAAY,IAClDC,EAAOH,EAAOjG,UACdO,EAAQ0F,EAAOI,UAIrB,OAFA/D,QAAQC,IAAIhC,GAEL6F,GACH,IAAK,QACD,OAAO,kBAAC,EAAU7F,GACtB,IAAK,UACD,OAAO,kBAAC,EAAYA,GACxB,IAAK,QACD,OAAO,kBAAC,EAAUA,GACtB,QACI,OAAO","file":"static/js/7.47bdf2bd.chunk.js","sourcesContent":["import Text from \"../Atomics/Text\";\r\nimport React from \"react\";\r\nimport Atomic from \"../Atomics/Atomic\";\r\nimport Quote from \"../Atomics/Quote\";\r\n\r\nconst exerciseBlockRenderer = (contentBlock) => {\r\n    const type = contentBlock.getType();\r\n\r\n    switch(type) {\r\n        case 'unstyled':\r\n            return {\r\n                component: ({block}) => {\r\n                    return (\r\n                        <Text>\r\n                            {block.getText()}\r\n                        </Text>\r\n                    )\r\n                },\r\n                editable: false,\r\n            }\r\n        case 'quote':\r\n            return {\r\n                component: ({block}) => {\r\n                    return (\r\n                        <Quote>\r\n                            {block.getText()}\r\n                        </Quote>\r\n                    )\r\n                },\r\n                editable: false,\r\n            }\r\n        case 'atomic':\r\n            return {\r\n                component: (props) => (\r\n                    <Atomic {...props} />\r\n                ),\r\n                editable: false,\r\n            }\r\n    };\r\n};\r\n\r\nconst useExerciseBlockRenderer = () => {\r\n    return exerciseBlockRenderer;\r\n};\r\n\r\nexport default useExerciseBlockRenderer;","import React from 'react';\r\nimport {Editor, EditorState, convertFromRaw, convertToRaw, DefaultDraftBlockRenderMap} from 'draft-js';\r\nimport useExerciseBlockRenderer from \"./ExerciseBlockRenderer\";\r\nimport Immutable from 'immutable';\r\nimport Section from \"../Atomics/Section\";\r\nimport {useFireBaseFirestore} from \"../Providers/FireBaseProvider\";\r\n\r\nconst Renderer = ({title, data}) => {\r\n    const editorState = EditorState.createWithContent(convertFromRaw(data));\r\n\r\n    const blockRenderer = useExerciseBlockRenderer();\r\n\r\n    const blockRenderMap = Immutable.Map({\r\n        'atomic': {\r\n            element: 'div'\r\n        }\r\n    });\r\n\r\n    const extendedBlockRenderMap = DefaultDraftBlockRenderMap.merge(blockRenderMap);\r\n\r\n    return (\r\n        <Section title={title}>\r\n            <Editor editorState={editorState}\r\n                    blockRendererFn={blockRenderer}\r\n                    blockRenderMap={extendedBlockRenderMap}\r\n                    readOnly={true}/>\r\n        </Section>\r\n    )\r\n};\r\n\r\nexport default Renderer;","import React from 'react';\r\nimport {useGetExercise, useGetExercises} from \"../../Providers/CourseProvider\";\r\nimport {useParams} from 'react-router-dom';\r\nimport Section from \"../../Atomics/Section\";\r\nimport Renderer from \"../../Editor/Renderer\";\r\nimport isPropertyDefined from \"../../Functions/isPropertyDefined\";\r\n\r\nconst Exercise = () => {\r\n    const {courseId, moduleGroupId, moduleId, exerciseId} = useParams();\r\n    const exercise = useGetExercise(courseId, moduleGroupId, moduleId, exerciseId);\r\n    const exercises = useGetExercises(courseId, moduleGroupId, moduleId, exerciseId);\r\n\r\n    console.log(exercises);\r\n\r\n    return (\r\n        exercise.content ? <Renderer data={exercise.content} title={isPropertyDefined(exercises, [exerciseId, 'title'], '')} /> : null\r\n    )\r\n};\r\n\r\nexport default Exercise;","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nconst Base = styled.section`\r\n    border-bottom: 1px solid #ccc;\r\n    padding-bottom: 8px;\r\n    margin-bottom: 16px;\r\n    \r\n    + :last-child {\r\n        border: none;\r\n    }\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 16pt;\r\n    margin-bottom: 16px;\r\n    color: black;\r\n`;\r\n\r\nconst Section = ({title, children, ...props}) => {\r\n    return (\r\n        <Base {...props}>\r\n            <Title>{title}</Title>\r\n            {children}\r\n        </Base>\r\n    )\r\n};\r\n\r\nexport default Section;","import styled from 'styled-components';\r\n\r\nconst Text = styled.div`\r\n    margin-bottom: 8px;\r\n    line-height: 1.5;\r\n    text-align: justify;\r\n    \r\n    ${props => props.showParagraph ? (\r\n        `\r\n            position: relative;\r\n            :before {\r\n                content: 'Â¶';\r\n                display: block;\r\n                position: absolute;\r\n                left: 100%;\r\n            }\r\n        `\r\n    ) : ''}\r\n`;\r\n\r\nexport default Text;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Base = styled.div`\r\n    border-left: 4px solid #666;\r\n    color: #666;\r\n    padding: 16px;\r\n    margin-bottom: 8px;\r\n    font-style: italic;\r\n    background-color: #eee;\r\n`;\r\n\r\nconst Description = styled.div`\r\n    font-style: normal;\r\n    margin-bottom: 8px;\r\n`;\r\n\r\nconst Quote = ({children}) => {\r\n    return (\r\n        <Base>\r\n            <Description>Zitat: </Description>{children}\r\n        </Base>\r\n    )\r\n};\r\n\r\nexport default Quote;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n\r\n`;\r\n\r\nconst Picture = styled.img`\r\n    max-width: 100%;\r\n    margin: 0 auto;\r\n    display: block;\r\n    height: 15vh;\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);\r\n`;\r\n\r\nconst Caption = styled.div`\r\n    margin: 8px;\r\n    color: grey;\r\n    text-align: center;\r\n    font-size: 10pt;\r\n    font-style: italic;\r\n`;\r\n\r\nconst Image = ({url, caption}) => {\r\n    return (\r\n        <Wrapper>\r\n            <Picture src={url} alt={caption} />\r\n            <Caption>\r\n                {caption}\r\n            </Caption>\r\n        </Wrapper>\r\n    )\r\n};\r\n\r\nexport default Image;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport katex from 'katex';\r\nimport 'katex/dist/katex.min.css';\r\n\r\nconst Base = styled.div`\r\n    border-left: 4px solid #ccc;\r\n    color: #666;\r\n    padding: 4px;\r\n    background-color: #fafafa;\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 0 auto;\r\n    margin-bottom: 8px;\r\n`;\r\n\r\nconst Label = styled.div`\r\n    flex-grow: 0;\r\n    margin: 0 8px;\r\n`;\r\n\r\nconst Formula = ({formula}) => {\r\n    const ref = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        katex.render(formula, ref.current, {displayMode: true});\r\n    });\r\n\r\n    return (\r\n            <Base>\r\n                <Label>(1)</Label>\r\n                <div ref={ref}></div>\r\n            </Base>\r\n    )\r\n};\r\n\r\nexport default Formula;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Icon from \"./Icon\";\r\nimport {useSpring, animated} from \"react-spring\";\r\n\r\nconst Title = styled.div`\r\n    font-size: 16pt;\r\n    padding: 8px;\r\n    position: relative;\r\n    display: flex;\r\n    \r\n    :before {\r\n        display: block;\r\n        content: '${props => props.show ? '-' : '+'}';\r\n        position: absolute;\r\n        line-height: 0;\r\n        right: 0;\r\n        width: 16px;\r\n        text-align: center;\r\n        top: 50%;\r\n        transform: translateX(-50%) translateY(-50%);\r\n    }\r\n`;\r\n\r\nconst Movie = styled.video`\r\n    width: 100%;\r\n    padding: 8px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst Wrapper = animated(styled.div`\r\n    overflow: hidden;\r\n`);\r\n\r\nconst Container = styled.div`\r\n    background-color: #eee;\r\n`;\r\n\r\nconst Video = ({url, title}) => {\r\n    const [show, setShow] = React.useState(false);\r\n    const [height, setHeight] = React.useState(0);\r\n    const ref = React.useRef();\r\n\r\n    const animation = useSpring({\r\n        height: show ? height : 0,\r\n    });\r\n\r\n    React.useLayoutEffect(() => {\r\n        setHeight(ref.current.getBoundingClientRect().height);\r\n    });\r\n\r\n    if(url.includes('youtube')) url = url.replace('watch?v=', 'embed/');\r\n\r\n    return (\r\n        <>\r\n            <Container>\r\n                <Title show={show} onClick={() => setShow(state => !state)}><Icon style={{marginRight: 8}}>movie</Icon>{title}</Title>\r\n                <Wrapper style={animation}>\r\n                    {\r\n                        url.includes('youtube') ?\r\n                            <iframe ref={ref} width={'100%'} height={300} src={url} frameBorder={\"0\"}\r\n                                    allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n                                    allowFullScreen></iframe> :\r\n                            <Movie ref={ref} src={url} controls />\r\n                    }\r\n                </Wrapper>\r\n\r\n            </Container>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Video;","import React from 'react';\r\nimport Image from \"./Image\";\r\nimport Formula from \"./Formula\";\r\nimport Video from './Video'\r\n\r\nconst Atomic = ({contentState, block}) => {\r\n    const entity = contentState.getEntity(block.getEntityAt(0));\r\n    const type = entity.getType();\r\n    const props = entity.getData();\r\n\r\n    console.log(props);\r\n\r\n    switch(type) {\r\n        case 'image':\r\n            return <Image {...props} />\r\n        case 'formula':\r\n            return <Formula {...props} />\r\n        case 'video':\r\n            return <Video {...props} />\r\n        default:\r\n            return null;\r\n    }\r\n};\r\n\r\nexport default Atomic;"],"sourceRoot":""}