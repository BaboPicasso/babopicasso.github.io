{"version":3,"sources":["components/Atomics/TextArea.js","components/Editor/EditorBlockRenderer.js","components/Editor/index.jsx","components/CMS/index.jsx","components/Atomics/Section.js","components/Atomics/Input.js","components/Atomics/Form.js","components/Editor/Prompt.js","components/Atomics/Text.js","components/Atomics/Quote.js","components/Atomics/Image.js","components/Atomics/Formula.js","components/Atomics/Video.js","components/Atomics/Atomic.js"],"names":["TextArea","styled","textarea","props","unstyled","editorBlockRenderer","contentBlock","getType","component","Text","editable","Quote","Atomic","useEditorBlockRenderer","Wrapper","div","EditorButton","Button","ExerciseEditor","onSubmit","defaultRawState","defaultTitle","React","useState","EditorState","createWithContent","convertFromRaw","createEmpty","editorState","setEditorState","active","data","promptState","setPromptState","title","setTitle","focusOnce","setFocusOnce","editor","useRef","useEffect","focus","onChange","blockRenderMap","Immutable","Map","element","extendedBlockRenderMap","DefaultDraftBlockRenderMap","merge","window","setTimeout","current","getSelectedBlockType","selection","getSelection","getCurrentContent","getBlockForKey","getStartKey","blockStyleButtons","icon","inlineStyleButtons","atomicBlockButtons","url","caption","formula","getAtomicBlockData","type","text","onClick","console","log","content","convertToRaw","Icon","temp","key","push","style","backgroundColor","blockType","RichUtils","toggleBlockType","constructBlockStyleButtons","getCurrentInlineStyle","has","styleType","toggleInlineStyle","constructInlineStyleButtons","constructAtomicBlockButtons","Section","Input","value","e","target","placeholder","blockRendererFn","ref","handleKeyCommand","command","newState","Prompt","atomicBlockType","atomicBlockData","contentStateWithEntity","createEntity","entityKey","getLastCreatedEntityKey","set","currentContent","AtomicBlockUtils","insertAtomicBlock","addAtomicBlock","Title","Container","Menu","Accordion","children","add","remove","edit","moveUp","moveDown","symbol","state","setState","menu","setMenu","setHeight","measure","useLayoutEffect","getBoundingClientRect","height","onMouseEnter","onMouseLeave","event","undefined","length","stopPropagation","display","alignItems","marginRight","padding","CMS","courses","useGetCourses","Add","fields","courseId","moduleGroupId","moduleId","addCourse","exerciseId","useAddCourse","addModuleGroup","useAddModuleGroup","addModule","useAddModule","addExercise","useAddExercise","handleSubmit","Form","name","constructInputs","Edit","exerciseState","setExerciseState","updateCourse","useUpdateCourse","updateModuleGroup","useUpdateModuleGroup","updateModule","useUpdateModule","updateExercise","useUpdateExercise","defaultValue","doc","get","then","Remove","removeCourse","useRemoveCourse","removeModuleGroup","useRemoveModuleGroup","removeModule","useRemoveModule","removeExercise","useRemoveExercise","confirm","constructModules","modules","id","action","exercises","constructExercises","isPropertyDefined","marginBottom","moduleGroups","constructModuleGroups","constructCourses","marginTop","typeFields","course","description","moduleGroup","module","exercise","renderComponent","Base","section","input","form","Submit","handleUpdate","preventDefault","map","child","index","cloneElement","constructDataFields","showParagraph","Description","Picture","img","Caption","Image","src","alt","Label","Formula","katex","render","displayMode","show","Movie","video","animated","Video","setShow","animation","useSpring","includes","replace","width","frameBorder","allow","allowFullScreen","controls","contentState","block","entity","getEntity","getEntityAt","getData"],"mappings":"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","file":"static/js/5.e30057d9.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst TextArea = styled.textarea`\r\n    transition: 0.3s ease all;\r\n    outline: none;\r\n    border: none;\r\n    border-bottom: 2px solid #ccc;\r\n    background-color: white;\r\n    padding: 8px;\r\n    margin: 4px;\r\n    \r\n    :focus {\r\n        border-color: blue;\r\n        background-color: white;\r\n    }\r\n    \r\n    ${props => props.unstyled ? `\r\n        margin: 0;\r\n        padding: 0;\r\n        font-size: inherit;\r\n        font-color: inherit;\r\n        border: none;\r\n    ` : ''}\r\n`;\r\n\r\nexport default TextArea;","import Text from \"../Atomics/Text\";\r\nimport {EditorBlock} from \"draft-js\";\r\nimport React from \"react\";\r\nimport Atomic from \"../Atomics/Atomic\";\r\nimport Quote from \"../Atomics/Quote\";\r\n\r\nconst editorBlockRenderer = (contentBlock) => {\r\n    const type = contentBlock.getType();\r\n\r\n    switch(type) {\r\n        case 'unstyled':\r\n            return {\r\n                component: (props) => {\r\n                    return (\r\n                        <Text>\r\n                            <EditorBlock {...props} />\r\n                        </Text>\r\n                    )\r\n                },\r\n                editable: true,\r\n            }\r\n        case 'quote':\r\n            return {\r\n                component: (props) => {\r\n                    return (\r\n                        <Quote>\r\n                            <EditorBlock {...props} />\r\n                        </Quote>\r\n                    )\r\n                },\r\n                editable: true,\r\n            }\r\n        case 'atomic':\r\n            return {\r\n                component: (props) => (\r\n                    <Atomic {...props} />\r\n                ),\r\n                editable: false,\r\n            }\r\n    };\r\n};\r\n\r\nconst useEditorBlockRenderer = () => {\r\n    return editorBlockRenderer;\r\n};\r\n\r\nexport default useEditorBlockRenderer;","import React from 'react';\r\nimport {Editor, EditorState, RichUtils, AtomicBlockUtils, DefaultDraftBlockRenderMap, convertToRaw, convertFromRaw} from 'draft-js';\r\nimport useEditorBlockRenderer from './EditorBlockRenderer';\r\nimport Button from \"../Atomics/Button\";\r\nimport Icon from \"../Atomics/Icon\";\r\nimport Prompt from \"./Prompt\";\r\nimport styled from 'styled-components';\r\nimport Immutable from 'immutable'\r\nimport Section from \"../Atomics/Section\";\r\nimport Input from \"../Atomics/Input\";\r\n\r\nconst Wrapper = styled.div`\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);\r\n    margin-bottom: 16px;\r\n    background-color: white;\r\n    border-radius: 4px;\r\n`;\r\n\r\nconst EditorButton = styled(Button)`\r\n    padding: 8px;\r\n`;\r\n\r\nconst ExerciseEditor = ({onSubmit, defaultRawState, defaultTitle}) => {\r\n    const [editorState, setEditorState] = React.useState(defaultRawState ? EditorState.createWithContent(convertFromRaw(defaultRawState)) : EditorState.createEmpty());\r\n    const [promptState, setPromptState] = React.useState({active: false, data: null});\r\n    const [title, setTitle] = React.useState(defaultTitle || '');\r\n    const [focusOnce, setFocusOnce] = React.useState(false);\r\n    const editorBlockRenderer = useEditorBlockRenderer();\r\n    const editor = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n        if(!focusOnce) {\r\n            focus();\r\n            setFocusOnce(true);\r\n        }\r\n    })\r\n\r\n    const onChange = editorState => {\r\n        setEditorState(editorState);\r\n    };\r\n\r\n    const blockRenderMap = Immutable.Map({\r\n        'atomic': {\r\n            element: 'div',\r\n        }\r\n    });\r\n\r\n    const extendedBlockRenderMap = DefaultDraftBlockRenderMap.merge(blockRenderMap);\r\n\r\n    const focus = () => {\r\n        window.setTimeout(() => editor.current.focus(), 0);\r\n    };\r\n\r\n    const onTab = event => {\r\n        const maxDepth = 4;\r\n        onChange(\r\n            RichUtils.onTab(event, editorState, maxDepth)\r\n        );\r\n\r\n        focus();\r\n    };\r\n\r\n    const handleKeyCommand = command => {\r\n        const newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n        if(newState) {\r\n            onChange(newState);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    const toggleBlockType = blockType => {\r\n        onChange(\r\n            RichUtils.toggleBlockType(\r\n                editorState,\r\n                blockType\r\n            )\r\n        );\r\n    };\r\n\r\n    const toggleInlineStyle = styleType => {\r\n        onChange(\r\n            RichUtils.toggleInlineStyle(\r\n                editorState,\r\n                styleType\r\n            )\r\n        );\r\n\r\n        focus();\r\n    };\r\n\r\n    const addAtomicBlock = (atomicBlockType, atomicBlockData) => {\r\n        const contentState = editorState.getCurrentContent();\r\n        const contentStateWithEntity = contentState.createEntity(\r\n            atomicBlockType,\r\n            'IMMUTABLE',\r\n            atomicBlockData\r\n        );\r\n\r\n        const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\r\n\r\n        const newState = EditorState.set(\r\n            editorState,\r\n            {currentContent: contentStateWithEntity}\r\n        );\r\n\r\n        onChange(AtomicBlockUtils.insertAtomicBlock(newState, entityKey, ' '));\r\n    };\r\n\r\n    const getSelectedBlockType = () => {\r\n        const selection = editorState.getSelection();\r\n\r\n        return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\r\n    };\r\n\r\n    const blockStyleButtons = {\r\n        'unstyled': {\r\n            icon: 'title',\r\n        },\r\n        'quote': {\r\n            icon: 'format_quote',\r\n        }\r\n    };\r\n\r\n    const constructBlockStyleButtons = () => {\r\n        const temp = [];\r\n\r\n        for(let key in blockStyleButtons) {\r\n            temp.push(\r\n                <EditorButton style={{backgroundColor: getSelectedBlockType() === key ? '#ccc' : 'white'}} key={key} onClick={() => toggleBlockType(key)}>\r\n                    <Icon>\r\n                        {blockStyleButtons[key].icon}\r\n                    </Icon>\r\n                </EditorButton>\r\n            );\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    const inlineStyleButtons = {\r\n        'BOLD': {\r\n            icon: 'format_bold',\r\n        },\r\n        'ITALIC': {\r\n            icon: 'format_italic',\r\n        },\r\n        'UNDERLINE': {\r\n            icon: 'format_underline',\r\n        },\r\n        'STRIKETHROUGH': {\r\n            icon: 'format_strikethrough'\r\n        }\r\n    };\r\n\r\n    const constructInlineStyleButtons = () => {\r\n        const temp = [];\r\n\r\n        for(let key in inlineStyleButtons) {\r\n            temp.push(\r\n                <EditorButton style={{backgroundColor: editorState.getCurrentInlineStyle().has(key) ? '#ccc' : 'white'}} key={key} onClick={() => toggleInlineStyle(key)}>\r\n                    <Icon>\r\n                        {inlineStyleButtons[key].icon}\r\n                    </Icon>\r\n                </EditorButton>\r\n            )\r\n        }\r\n        return temp;\r\n    };\r\n\r\n    const atomicBlockButtons = {\r\n        'image': {\r\n            data: {\r\n                url: 'Bildadresse',\r\n                caption: 'Bildunterschrift'\r\n            },\r\n            icon: 'image',\r\n        },\r\n        'video': {\r\n            data: {\r\n                url: 'Videoadresse',\r\n                title: 'Videotitel'\r\n            },\r\n            icon: 'movie'\r\n        },\r\n        'formula': {\r\n            data: {\r\n                formula: 'Formel'\r\n            },\r\n            icon: 'functions'\r\n        }\r\n    };\r\n\r\n    const constructAtomicBlockButtons = () => {\r\n        let temp = [];\r\n\r\n        for(let key in atomicBlockButtons) {\r\n            temp.push(\r\n                <EditorButton key={key} onClick={() => getAtomicBlockData(atomicBlockButtons[key].data, key)}>\r\n                    <Icon>\r\n                        {atomicBlockButtons[key].icon}\r\n                    </Icon>\r\n                </EditorButton>\r\n            )\r\n        };\r\n\r\n        return temp;\r\n    };\r\n\r\n    const getAtomicBlockData = (data, type) => {\r\n        setPromptState({active: true, data: data, type: type});\r\n    };\r\n\r\n    const handlePrompt = (data) => {\r\n        addAtomicBlock(promptState.type, data);\r\n        setPromptState({active: false, data: null, type: null});\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Wrapper>\r\n                <EditorButton text onClick={() => console.log(\r\n                    {\r\n                        title: title,\r\n                        content: convertToRaw(editorState.getCurrentContent()),\r\n                    }\r\n                )}>\r\n                    <Icon>\r\n                        bug_report\r\n                    </Icon>\r\n                </EditorButton>\r\n                {constructBlockStyleButtons()}\r\n                {constructInlineStyleButtons()}\r\n                {constructAtomicBlockButtons()}\r\n            </Wrapper>\r\n            <Section title={\r\n                <Input unstyled value={title} onChange={(e) => setTitle(e.target.value)} placeholder={'Aufgabentitel...'}/>\r\n            }>\r\n                <Editor blockRendererFn={editorBlockRenderer}\r\n                        blockRenderMap={extendedBlockRenderMap}\r\n                        editorState={editorState}\r\n                        ref={editor}\r\n                        onChange={onChange}\r\n                        handleKeyCommand={handleKeyCommand}\r\n                />\r\n                <Prompt active={promptState.active} data={promptState.data} onSubmit={handlePrompt}/>\r\n            </Section>\r\n            <Button styled onClick={() => onSubmit({title: title, content: convertToRaw(editorState.getCurrentContent())})}>\r\n                Speichern!\r\n            </Button>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ExerciseEditor;","import React from 'react';\r\nimport {\r\n    useAddCourse, useAddExercise, useAddModule, useAddModuleGroup,\r\n    useGetCourses,\r\n    useRemoveCourse,\r\n    useRemoveExercise,\r\n    useRemoveModule,\r\n    useRemoveModuleGroup, useUpdateCourse, useUpdateExercise, useUpdateModule, useUpdateModuleGroup\r\n} from \"../Providers/CourseProvider\";\r\nimport isPropertyDefined from \"../Functions/isPropertyDefined\";\r\nimport Button from \"../Atomics/Button\";\r\nimport Icon from \"../Atomics/Icon\";\r\nimport styled from 'styled-components';\r\nimport Input from \"../Atomics/Input\";\r\nimport Section from \"../Atomics/Section\";\r\nimport Form from \"../Atomics/Form\";\r\nimport TextArea from \"../Atomics/TextArea\";\r\nimport ExerciseEditor from \"../Editor\";\r\n\r\nconst Title = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);\r\n    padding: 8px;\r\n    margin-top: 8px;\r\n    background-color: white;\r\n    border-radius: 4px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n    overflow: hidden;\r\n    transition: 0.3s ease height, 0.3s ease padding;\r\n`;\r\n\r\nconst Menu = styled.div`\r\n    position: absolute;\r\n    opacity: ${props => props.active ? 1 : 0};\r\n    transition: 0.3s ease opacity, transform 0.3s ease;\r\n    background-color: white;\r\n    transform: ${props => props.active ? 'scale(1)' : 'scale(0)'} translateX(-4px) translateY(-4px);\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    border-radius: 4px;\r\n    position: relative;\r\n`;\r\n\r\nconst Accordion = ({title, children, add, remove, edit, moveUp, moveDown, symbol}) => {\r\n    const [state, setState] = React.useState(false);\r\n    const [menu, setMenu] = React.useState(false);\r\n    const [height, setHeight] = React.useState();\r\n    const measure = React.useRef();\r\n\r\n    React.useLayoutEffect(() => {\r\n        setHeight(measure.current.getBoundingClientRect().height);\r\n    });\r\n\r\n    const handleClick = event => {\r\n        if(children === undefined || children.length === 0) return;\r\n        setState(state => !state);\r\n\r\n        event.stopPropagation();\r\n    };\r\n\r\n    return (\r\n        <Wrapper>\r\n            <div onMouseEnter={() => setMenu(true)} onMouseLeave={() => setMenu(false)}>\r\n                <Menu active={menu}>\r\n                    {add ?\r\n                        <Button onClick={add}>\r\n                            <Icon>\r\n                                add\r\n                            </Icon>\r\n                        </Button> : null\r\n                    }\r\n                    {remove ?\r\n                        <Button onClick={remove}>\r\n                            <Icon>\r\n                                remove\r\n                            </Icon>\r\n                        </Button> : null\r\n                    }\r\n                    {edit ?\r\n                        <Button onClick={edit}>\r\n                            <Icon>\r\n                                edit\r\n                            </Icon>\r\n                        </Button> : null\r\n                    }\r\n                    {moveUp ?\r\n                        <Button onClick={moveUp}>\r\n                            <Icon>\r\n                                keyboard_arrow_up\r\n                            </Icon>\r\n                        </Button> : null\r\n                    }\r\n                    {moveDown ?\r\n                        <Button onClick={moveDown}>\r\n                            <Icon>\r\n                                keyboard_arrow_down\r\n                            </Icon>\r\n                        </Button> : null\r\n                    }\r\n                </Menu>\r\n                <Title active={state} onClick={handleClick}>\r\n                    <div style={{display: 'flex', alignItems: 'center'}}>\r\n                        <Icon style={{marginRight: 8}}>\r\n                            {symbol}\r\n                        </Icon>\r\n                        {title}\r\n                    </div>\r\n                    {children === undefined || children.length === 0 ? null : (state ? <Icon>remove</Icon> : <Icon>add</Icon>)}\r\n                </Title>\r\n            </div>\r\n            <Container style={{height: state ? 'auto' : 0, padding: state ? '8px 16px 8px 16px' : 0}}>\r\n                <div ref={measure}>\r\n                    {children}\r\n                </div>\r\n            </Container>\r\n        </Wrapper>\r\n    )\r\n};\r\n\r\nconst CMS = () => {\r\n    const courses = useGetCourses();\r\n    const [state, setState] = React.useState({});\r\n\r\n    const Add = ({type, fields, courseId, moduleGroupId, moduleId, exerciseId}) => {\r\n        const addCourse = useAddCourse();\r\n        const addModuleGroup = useAddModuleGroup();\r\n        const addModule = useAddModule();\r\n        const addExercise = useAddExercise();\r\n\r\n        const handleSubmit = (state) => {\r\n            switch(type) {\r\n                case 'course':\r\n                    addCourse(state);\r\n                    break;\r\n                case 'moduleGroup':\r\n                    addModuleGroup(state, courseId);\r\n                    break;\r\n                case 'module':\r\n                    addModule(state, courseId, moduleGroupId);\r\n                    break;\r\n                case 'exercise':\r\n                    addExercise(state, courseId, moduleGroupId, moduleId);\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n\r\n            setState({});\r\n        };\r\n\r\n        const constructInputs = () => {\r\n            const temp = [];\r\n\r\n            for(let key in fields) {\r\n                temp.push(\r\n                    fields[key][0] === 'big' ?\r\n                        <TextArea key={key} name={key} placeholder={fields[key][1]} /> :\r\n                        <Input key={key} name={key} placeholder={fields[key][1]} />\r\n                )\r\n            };\r\n\r\n            return temp;\r\n        };\r\n\r\n        return (type !== 'exercise' ?\r\n            <Form onSubmit={handleSubmit}>{constructInputs()}</Form> :\r\n            <ExerciseEditor onSubmit={handleSubmit}/>\r\n        );\r\n    };\r\n\r\n    const Edit = ({type, fields, courseId, moduleGroupId, moduleId, exerciseId, data}) => {\r\n        const [exerciseState, setExerciseState] = React.useState(null);\r\n\r\n        const updateCourse = useUpdateCourse();\r\n        const updateModuleGroup = useUpdateModuleGroup();\r\n        const updateModule = useUpdateModule();\r\n        const updateExercise = useUpdateExercise();\r\n\r\n        const handleSubmit = (state) => {\r\n            switch(type) {\r\n                case 'course':\r\n                    updateCourse(state, courseId);\r\n                    break;\r\n                case 'moduleGroup':\r\n                    updateModuleGroup(state, courseId, moduleGroupId);\r\n                    break;\r\n                case 'module':\r\n                    updateModule(state, courseId, moduleGroupId, moduleId);\r\n                    break;\r\n                case 'exercise':\r\n                    updateExercise(state, courseId, moduleGroupId, moduleId, exerciseId);\r\n                    setExerciseState(null);\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n\r\n            setState({});\r\n        };\r\n\r\n        const constructInputs = () => {\r\n            const temp = [];\r\n\r\n            for(let key in fields) {\r\n                temp.push(\r\n                    fields[key][0] === 'big' ?\r\n                        <TextArea key={key} name={key} defaultValue={data[key]} placeholder={fields[key][1]} /> :\r\n                        <Input key={key} name={key} defaultValue={data[key]} placeholder={fields[key][1]} />\r\n                )\r\n            };\r\n\r\n            return temp;\r\n        };\r\n\r\n        const getExercise = () => {\r\n            if(!exerciseState) data.doc.get().then(doc => setExerciseState({...data, ...doc.data()}));\r\n\r\n            return exerciseState;\r\n        };\r\n\r\n        return (type !== 'exercise' ?\r\n                <Form onSubmit={handleSubmit}>{constructInputs()}</Form> :\r\n                (getExercise() ? <ExerciseEditor onSubmit={handleSubmit} defaultTitle={exerciseState.title} defaultRawState={exerciseState.content} /> : null)\r\n        );\r\n    };\r\n\r\n    const Remove = ({type, courseId, moduleGroupId, moduleId, exerciseId}) => {\r\n        const removeCourse = useRemoveCourse();\r\n        const removeModuleGroup = useRemoveModuleGroup();\r\n        const removeModule = useRemoveModule();\r\n        const removeExercise = useRemoveExercise();\r\n\r\n        let answer = window.confirm('Wirklich löschen?');\r\n\r\n        if(!answer)  {\r\n            setState({});\r\n            return null;\r\n        }\r\n\r\n        switch(type) {\r\n            case 'course':\r\n                removeCourse(courseId);\r\n                break;\r\n            case 'moduleGroup':\r\n                removeModuleGroup(courseId, moduleGroupId);\r\n                break;\r\n            case 'module':\r\n                removeModule(courseId, moduleGroupId, moduleId);\r\n                break;\r\n            case 'exercise':\r\n                removeExercise(courseId, moduleGroupId, moduleId, exerciseId);\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        setState({});\r\n\r\n        return null;\r\n    };\r\n\r\n    const constructExercises = (exercises, courseId, moduleGroupId, moduleId) => {\r\n        const temp = [];\r\n\r\n        for(let key in exercises) {\r\n            const {type, ...props} = {id: {courseId: courseId, moduleGroupId: moduleGroupId, moduleId: moduleId, exerciseId: key}, type: {remove: 'exercise', add: null, edit: 'exercise'}};\r\n\r\n            temp.push(\r\n                <Accordion\r\n                    key={key}\r\n                    title={exercises[key].title}\r\n                    remove={() => setState({...props, type: type.remove, action: 'remove'})}\r\n                    edit={() => setState({...props, type: type.edit, action: 'edit', data: exercises[key]})}\r\n                    symbol={'bookmark'}\r\n                />\r\n            )\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    const constructModules = (modules, courseId, moduleGroupId) => {\r\n        const temp = []\r\n\r\n        for(let key in modules) {\r\n            const {type, ...props} = {id: {courseId: courseId, moduleGroupId: moduleGroupId, moduleId: key}, type: {remove: 'module', add: 'exercise', edit: 'module'}};\r\n            temp.push(\r\n                <Accordion\r\n                    key={key}\r\n                    title={modules[key].title}\r\n                    add={() => setState({...props, type: type.add, action: 'add'})}\r\n                    remove={() => setState({...props, type: type.remove, action: 'remove'})}\r\n                    edit={() => setState({...props, type: type.edit, action: 'edit', data: modules[key]})}\r\n                    symbol={'book'}\r\n                >\r\n                    {constructExercises(isPropertyDefined(modules, [key, 'exercises']), courseId, moduleGroupId, key)}\r\n                </Accordion>\r\n            )\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    const constructModuleGroups = (moduleGroups, courseId) => {\r\n        const temp = [];\r\n\r\n        for(let key in moduleGroups) {\r\n            const {type, ...props} = {id: {courseId: courseId, moduleGroupId: key}, type: {remove: 'moduleGroup', add: 'module', edit: 'moduleGroup'}};\r\n\r\n            temp.push(\r\n                <Accordion\r\n                    key={key}\r\n                    title={moduleGroups[key].title}\r\n                    add={() => setState({...props, type: type.add, action: 'add'})}\r\n                    remove={() => setState({...props, type: type.remove, action: 'remove'})}\r\n                    edit={() => setState({...props, type: type.edit, action: 'edit', data: moduleGroups[key]})}\r\n                    symbol={'collections_bookmark'}\r\n                >\r\n                        {constructModules(isPropertyDefined(moduleGroups, [key, 'modules']), courseId, key)}\r\n                </Accordion>\r\n            )\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    const constructCourses = (courses) => {\r\n        const temp = [];\r\n\r\n        for(let key in courses) {\r\n            const {type, ...props} = {id: {courseId: key},type: {remove: 'course', add: 'moduleGroup', edit: 'course'}};\r\n\r\n            temp.push(\r\n                <div key={key} style={{marginBottom: 16}}>\r\n                    <Accordion\r\n\r\n                        title={courses[key].title}\r\n                        add={() => setState({...props, type: type.add, action: 'add'})}\r\n                        remove={() => setState({...props, type: type.remove, action: 'remove'})}\r\n                        edit={() => setState({...props, type: type.edit, action: 'edit', data: courses[key]})}\r\n                        symbol={'school'}\r\n                    >\r\n                            {constructModuleGroups(isPropertyDefined(courses, [key, 'moduleGroups']), key)}\r\n                    </Accordion>\r\n                </div>\r\n            )\r\n        };\r\n\r\n        return temp;\r\n    };\r\n\r\n    const renderComponent = ({action, type, id, data}) => {\r\n        const typeFields = {\r\n            course: {\r\n                title: ['small', 'Titel'],\r\n                description: ['big', 'Beschreibung'],\r\n                symbol: ['small', 'Symbol']\r\n            },\r\n            moduleGroup: {\r\n                title: ['small', 'Titel'],\r\n            },\r\n            module: {\r\n                title: ['small', 'Titel'],\r\n            },\r\n            exercise: {\r\n                title: ['small', 'Titel'],\r\n                type: ['small', 'Typ'],\r\n                content: ['big', 'Inhalt'],\r\n            }\r\n        };\r\n\r\n        switch(action) {\r\n            case 'edit':\r\n                return <Edit fields={typeFields[type]} {...id} data={data} type={type} />\r\n            case 'add':\r\n                return <Add fields={typeFields[type]} {...id} type={type} />\r\n            case 'remove':\r\n                return <Remove fields={typeFields[type]} {...id} type={type} />\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Accordion title={'Übersicht'}>\r\n                <Accordion title={'Neuen Kurs hinzufügen'} add={() => setState({type: 'course', action: 'add'})} />\r\n                {constructCourses(courses)}\r\n\r\n            </Accordion>\r\n            <Section title={'Konsole'} style={{marginTop: 16}}>\r\n                {renderComponent(state)}\r\n            </Section>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default CMS;","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nconst Base = styled.section`\r\n    border-bottom: 1px solid #ccc;\r\n    padding-bottom: 8px;\r\n    margin-bottom: 16px;\r\n    \r\n    + :last-child {\r\n        border: none;\r\n    }\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 16pt;\r\n    margin-bottom: 16px;\r\n    color: black;\r\n`;\r\n\r\nconst Section = ({title, children, ...props}) => {\r\n    return (\r\n        <Base {...props}>\r\n            <Title>{title}</Title>\r\n            {children}\r\n        </Base>\r\n    )\r\n};\r\n\r\nexport default Section;","import styled from 'styled-components';\r\n\r\nconst Input = styled.input`\r\n    transition: 0.3s ease all;\r\n    outline: none;\r\n    border: none;\r\n    border-bottom: 2px solid #ccc;\r\n    background-color: white;\r\n    padding: 8px;\r\n    margin: 4px;\r\n    \r\n    :focus {\r\n        border-color: blue;\r\n        background-color: white;\r\n    }\r\n    \r\n    ${props => props.unstyled ? `\r\n        margin: 0;\r\n        padding: 0;\r\n        font-size: inherit;\r\n        font-color: inherit;\r\n        border: none;\r\n    ` : ''}\r\n`;\r\n\r\nexport default Input;","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Base = styled.form`\r\n    padding: 0px 16px 16px 16px;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst Submit = styled.input`\r\n    display: none;\r\n`;\r\n\r\nconst Form = ({children, onSubmit, ...props}) => {\r\n    const [state, setState] = React.useState();\r\n\r\n    const handleUpdate = (target) => {\r\n        setState(state => ({...state, [target.name]: target.value}));\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        onSubmit(state);\r\n    };\r\n\r\n    return (\r\n        <Base onSubmit={handleSubmit}>\r\n            {children.map((child, index) => {\r\n                return React.cloneElement(child, {key: index, onChange: (event) => handleUpdate(event.target)})\r\n            })}\r\n            <Submit type={'submit'} />\r\n        </Base>\r\n    )\r\n};\r\n\r\nexport default Form;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Input from \"../Atomics/Input\";\r\nimport Form from \"../Atomics/Form\";\r\n\r\nconst Container = styled.div`\r\n    transition: all 0.3s ease;\r\n    background-color: rgba(0, 0, 0, 0.25);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100vh;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1300;\r\n    border-radius: 4px;\r\n`;\r\n\r\nconst Base = styled.div`\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);\r\n    background-color: white;\r\n    padding: 16px;\r\n`;\r\n\r\nconst Title = styled.div`\r\n\r\n`;\r\n\r\nconst Prompt = ({data, active, onSubmit, title}) => {\r\n    const constructDataFields = () => {\r\n        let temp = [];\r\n\r\n        for(let key in data) {\r\n            temp.push(\r\n                <Input key={key} name={key} placeholder={data[key]}></Input>\r\n            )\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    return active ? (\r\n        <Container>\r\n            <Base>\r\n                <Title>{title}</Title>\r\n                <Form onSubmit={onSubmit}>\r\n                    {constructDataFields()}\r\n                </Form>\r\n            </Base>\r\n        </Container>\r\n    ) : null;\r\n};\r\n\r\nexport default Prompt;","import styled from 'styled-components';\r\n\r\nconst Text = styled.div`\r\n    margin-bottom: 8px;\r\n    line-height: 1.5;\r\n    text-align: justify;\r\n    \r\n    ${props => props.showParagraph ? (\r\n        `\r\n            position: relative;\r\n            :before {\r\n                content: '¶';\r\n                display: block;\r\n                position: absolute;\r\n                left: 100%;\r\n            }\r\n        `\r\n    ) : ''}\r\n`;\r\n\r\nexport default Text;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Base = styled.div`\r\n    border-left: 4px solid #666;\r\n    color: #666;\r\n    padding: 16px;\r\n    margin-bottom: 8px;\r\n    font-style: italic;\r\n    background-color: #eee;\r\n`;\r\n\r\nconst Description = styled.div`\r\n    font-style: normal;\r\n    margin-bottom: 8px;\r\n`;\r\n\r\nconst Quote = ({children}) => {\r\n    return (\r\n        <Base>\r\n            <Description>Zitat: </Description>{children}\r\n        </Base>\r\n    )\r\n};\r\n\r\nexport default Quote;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n\r\n`;\r\n\r\nconst Picture = styled.img`\r\n    max-width: 100%;\r\n    margin: 0 auto;\r\n    display: block;\r\n    height: 15vh;\r\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);\r\n`;\r\n\r\nconst Caption = styled.div`\r\n    margin: 8px;\r\n    color: grey;\r\n    text-align: center;\r\n    font-size: 10pt;\r\n    font-style: italic;\r\n`;\r\n\r\nconst Image = ({url, caption}) => {\r\n    return (\r\n        <Wrapper>\r\n            <Picture src={url} alt={caption} />\r\n            <Caption>\r\n                {caption}\r\n            </Caption>\r\n        </Wrapper>\r\n    )\r\n};\r\n\r\nexport default Image;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport katex from 'katex';\r\nimport 'katex/dist/katex.min.css';\r\n\r\nconst Base = styled.div`\r\n    border-left: 4px solid #ccc;\r\n    color: #666;\r\n    padding: 4px;\r\n    background-color: #fafafa;\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 0 auto;\r\n    margin-bottom: 8px;\r\n`;\r\n\r\nconst Label = styled.div`\r\n    flex-grow: 0;\r\n    margin: 0 8px;\r\n`;\r\n\r\nconst Formula = ({formula}) => {\r\n    const ref = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        katex.render(formula, ref.current, {displayMode: true});\r\n    });\r\n\r\n    return (\r\n            <Base>\r\n                <Label>(1)</Label>\r\n                <div ref={ref}></div>\r\n            </Base>\r\n    )\r\n};\r\n\r\nexport default Formula;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Icon from \"./Icon\";\r\nimport {useSpring, animated} from \"react-spring\";\r\n\r\nconst Title = styled.div`\r\n    font-size: 16pt;\r\n    padding: 8px;\r\n    position: relative;\r\n    display: flex;\r\n    \r\n    :before {\r\n        display: block;\r\n        content: '${props => props.show ? '-' : '+'}';\r\n        position: absolute;\r\n        line-height: 0;\r\n        right: 0;\r\n        width: 16px;\r\n        text-align: center;\r\n        top: 50%;\r\n        transform: translateX(-50%) translateY(-50%);\r\n    }\r\n`;\r\n\r\nconst Movie = styled.video`\r\n    width: 100%;\r\n    padding: 8px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst Wrapper = animated(styled.div`\r\n    overflow: hidden;\r\n`);\r\n\r\nconst Container = styled.div`\r\n    background-color: #eee;\r\n`;\r\n\r\nconst Video = ({url, title}) => {\r\n    const [show, setShow] = React.useState(false);\r\n    const [height, setHeight] = React.useState(0);\r\n    const ref = React.useRef();\r\n\r\n    const animation = useSpring({\r\n        height: show ? height : 0,\r\n    });\r\n\r\n    React.useLayoutEffect(() => {\r\n        setHeight(ref.current.getBoundingClientRect().height);\r\n    });\r\n\r\n    if(url.includes('youtube')) url = url.replace('watch?v=', 'embed/');\r\n\r\n    return (\r\n        <>\r\n            <Container>\r\n                <Title show={show} onClick={() => setShow(state => !state)}><Icon style={{marginRight: 8}}>movie</Icon>{title}</Title>\r\n                <Wrapper style={animation}>\r\n                    {\r\n                        url.includes('youtube') ?\r\n                            <iframe ref={ref} width={'100%'} height={300} src={url} frameBorder={\"0\"}\r\n                                    allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n                                    allowFullScreen></iframe> :\r\n                            <Movie ref={ref} src={url} controls />\r\n                    }\r\n                </Wrapper>\r\n\r\n            </Container>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Video;","import React from 'react';\r\nimport Image from \"./Image\";\r\nimport Formula from \"./Formula\";\r\nimport Video from './Video'\r\n\r\nconst Atomic = ({contentState, block}) => {\r\n    const entity = contentState.getEntity(block.getEntityAt(0));\r\n    const type = entity.getType();\r\n    const props = entity.getData();\r\n\r\n    console.log(props);\r\n\r\n    switch(type) {\r\n        case 'image':\r\n            return <Image {...props} />\r\n        case 'formula':\r\n            return <Formula {...props} />\r\n        case 'video':\r\n            return <Video {...props} />\r\n        default:\r\n            return null;\r\n    }\r\n};\r\n\r\nexport default Atomic;"],"sourceRoot":""}